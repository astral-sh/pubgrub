<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="PubGrub version solving algorithm."><title>pubgrub::solver - Rust</title><script> if (window.location.protocol !== "file:") document.write(`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2">`)</script><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-e935ef01ae1c1829.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="pubgrub" data-themes="" data-resource-suffix="" data-rustdoc-version="1.79.0-nightly (1684a753d 2024-04-01)" data-channel="nightly" data-search-js="search-42d8da7a6b9792c2.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../../static.files/storage-4c98445ec4002617.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../static.files/main-12cf3b4f4f9dc36d.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-04d5337699b92874.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../pubgrub/index.html">pubgrub</a><span class="version">0.2.1</span></h2></div><h2 class="location"><a href="#">Module solver</a></h2><div class="sidebar-elems"><section><ul class="block"><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#traits">Traits</a></li><li><a href="#functions">Functions</a></li></ul></section><h2><a href="../index.html">In crate pubgrub</a></h2></div></nav><div class="sidebar-resizer"></div>
    <main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><div id="sidebar-button" tabindex="-1"><a href="../../pubgrub/all.html" title="show sidebar"></a></div><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" tabindex="-1"><a href="../../help.html" title="help">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Module <a href="../index.html">pubgrub</a>::<wbr><a class="mod" href="#">solver</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../../src/pubgrub/solver.rs.html#3-386">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>PubGrub version solving algorithm.</p>
<p>It consists in efficiently finding a set of packages and versions
that satisfy all the constraints of a given project dependencies.
In addition, when that is not possible,
PubGrub tries to provide a very human-readable and clear
explanation as to why that failed.
Below is an example of explanation present in
the introductory blog post about PubGrub</p>
<div class="example-wrap"><pre class="language-txt"><code>Because dropdown &gt;=2.0.0 depends on icons &gt;=2.0.0 and
  root depends on icons &lt;2.0.0, dropdown &gt;=2.0.0 is forbidden.

And because menu &gt;=1.1.0 depends on dropdown &gt;=2.0.0,
  menu &gt;=1.1.0 is forbidden.

And because menu &lt;1.1.0 depends on dropdown &gt;=1.0.0 &lt;2.0.0
  which depends on intl &lt;4.0.0, every version of menu
  requires intl &lt;4.0.0.

So, because root depends on both menu &gt;=1.0.0 and intl &gt;=5.0.0,
  version solving failed.
</code></pre></div>
<p>The algorithm is generic and works for any type of dependency system
as long as packages (P) and versions (V) implement
the <a href="../package/trait.Package.html" title="trait pubgrub::package::Package">Package</a> and Version traits.
<a href="../package/trait.Package.html" title="trait pubgrub::package::Package">Package</a> is strictly equivalent and automatically generated
for any type that implement <a href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a> + <a href="https://doc.rust-lang.org/nightly/core/cmp/trait.Eq.html" title="trait core::cmp::Eq">Eq</a> + <a href="https://doc.rust-lang.org/nightly/core/hash/macros/derive.Hash.html" title="derive core::hash::macros::Hash">Hash</a> + <a href="https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a> + <a href="https://doc.rust-lang.org/nightly/core/fmt/trait.Display.html" title="trait core::fmt::Display">Display</a>.</p>
<h3 id="api"><a class="doc-anchor" href="#api">§</a>API</h3>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let </span>solution = resolve(<span class="kw-2">&amp;</span>dependency_provider, package, version)<span class="question-mark">?</span>;</code></pre></div>
<p>Where <code>dependency_provider</code> supplies the list of available packages and versions,
as well as the dependencies of every available package
by implementing the <a href="trait.DependencyProvider.html" title="trait pubgrub::solver::DependencyProvider">DependencyProvider</a> trait.
The call to <a href="fn.resolve.html" title="fn pubgrub::solver::resolve">resolve</a> for a given package at a given version
will compute the set of packages and versions needed
to satisfy the dependencies of that package and version pair.
If there is no solution, the reason will be provided as clear as possible.</p>
</div></details><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.OfflineDependencyProvider.html" title="struct pubgrub::solver::OfflineDependencyProvider">OfflineDependencyProvider</a></div><div class="desc docblock-short">A basic implementation of <a href="trait.DependencyProvider.html" title="trait pubgrub::solver::DependencyProvider">DependencyProvider</a>.</div></li></ul><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.Dependencies.html" title="enum pubgrub::solver::Dependencies">Dependencies</a></div><div class="desc docblock-short">An enum used by <a href="trait.DependencyProvider.html" title="trait pubgrub::solver::DependencyProvider">DependencyProvider</a> that holds information about package dependencies.
For each <a href="../package/trait.Package.html" title="trait pubgrub::package::Package">Package</a> there is a set of versions allowed as a dependency.</div></li></ul><h2 id="traits" class="section-header">Traits<a href="#traits" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="trait" href="trait.DependencyProvider.html" title="trait pubgrub::solver::DependencyProvider">DependencyProvider</a></div><div class="desc docblock-short">Trait that allows the algorithm to retrieve available packages and their dependencies.
An implementor needs to be supplied to the <a href="fn.resolve.html" title="fn pubgrub::solver::resolve">resolve</a> function.</div></li></ul><h2 id="functions" class="section-header">Functions<a href="#functions" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.resolve.html" title="fn pubgrub::solver::resolve">resolve</a></div><div class="desc docblock-short">Main function of the library.
Finds a set of packages satisfying dependency bounds for a given package + version pair.</div></li></ul></section></div></main></body></html>